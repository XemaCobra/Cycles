<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Cycles : HTTP library written in Swift" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Cycles</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/weipin/Cycles">View on GitHub</a>

          <h1 id="project_title">Cycles</h1>
          <h2 id="project_tagline">HTTP library written in Swift</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/weipin/Cycles/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/weipin/Cycles/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="cycles" class="anchor" href="#cycles"><span class="octicon octicon-link"></span></a>Cycles</h1>

<p>[Cycles is in early development, not fully tested. It's also iOS only for now.]</p>

<p>Cycles is a HTTP library written in Swift, inspired by <a href="http://afnetworking.com/">AFNetworking</a>
and <a href="http://docs.python-requests.org/">Requests</a>. The target of Cycles is to
free you from writing glue code around the NSURLSession classes.</p>

<pre><code>Cycle.get("https://api.github.com/user/",
    requestProcessors: [BasicAuthProcessor(username: "user", password: "pass")],
    responseProcessors: [JSONProcessor()],
    completionHandler: { (cycle, error) in
        println("\(cycle.response.statusCode)") // 200
        var header = cycle.response.valueForHTTPHeaderField("content-type")
        println("\(header)") // application/json; charset=utf-8
        println("\(cycle.response.textEncoding)") // 4
        println("\(cycle.response.text)") // {"login":"user","id":3 ...
        println("\(cycle.response.object)") // {"avatar_url" = ...
    })
</code></pre>

<p>Cycles offers a set of higher-level objects. With these objects, there is no
need to manually build query strings, or to create collection objects from
JSON response. More importantly, Cycles is designed in a way to help you build
HTTP functionality into your model layer. Also, properties like <code>solicited</code>
encourage you to build delightful user experiences.</p>

<p>Making HTTP requests is simple with Cycles. Here is a handful of examples:</p>

<p>Send a GET request.</p>

<pre><code>Cycle.get("http://www.apple.com", completionHandler: { (cycle, error) in
        println("\(cycle.response.text)") // &lt;!DOCTYPE html&gt;...
    })
</code></pre>

<p>POST collection objects with JSON format and receive collection objects from
JSON response.</p>

<pre><code>Cycle.post("http://127.0.0.1:8000/test/dumpupload/",
    requestObject: NSDictionary(object: "v1", forKey: "k1"),
    requestProcessors: [JSONProcessor()],
    responseProcessors: [JSONProcessor()],
    completionHandler: {(cycle, error) in
        println("\(cycle.response.object)") // { k1 = v1; }
    })
</code></pre>

<p>Upload a NSData</p>

<pre><code>Cycle.upload("http://127.0.0.1:8000/test/dumpupload/",
    data: "Hello World".dataUsingEncoding(NSUTF8StringEncoding),
    completionHandler: {
        (cycle, error) in
        println("\(cycle.response.text)") // Hello World
    })
</code></pre>

<p>Download a file</p>

<pre><code>Cycle.download("http://127.0.0.1:8000/test/echo?content=helloworld",
    downloadFileHandler: {(cycle, location) in
        var content = NSString(contentsOfURL: location,
                        encoding: NSUTF8StringEncoding, error: nil)
        println("\(content)") // helloworld
    },
    completionHandler: {(cycle, error) in
        println("\(cycle.response.statusCode)") // 200
    })
</code></pre>

<p>For more information, please <a href="http://cycles.readthedocs.org/">read the documentation</a>.</p>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>Cycles hasn't been packaged as a framework for now. You will have to add the
<a href="https://github.com/weipin/Cycles/tree/master/source">source files</a> to your
own project to use Cycles.</p>

<ul>
<li>Add all files in the "source" folder to your project.</li>
</ul><h1>
<a name="support" class="anchor" href="#support"><span class="octicon octicon-link"></span></a>Support</h1>

<p>Please use the <a href="https://github.com/weipin/Cycles/issues">issues system</a>. We look
forward to hearing your thoughts on the project.</p>

<h1>
<a name="known-issues" class="anchor" href="#known-issues"><span class="octicon octicon-link"></span></a>Known Issues</h1>

<ol>
<li>Namespace. If Cycles were written in Objective-C, a prefix will be applied to
the classes and global variables. Swift, on the other hand, is supposed to
have namespaces. While it's uncertain how to distinguish between identifiers
with the same exact name in Swift, identifiers in Cycles have no prefix.<br>
</li>
<li>UIAlertController's presenting view controller. BasicAuthentication can
present an alert view for user to input username and password. This is
achieved by creating a UIAlertController with username and password fields.
Unlike UIAlertView, before a controller can be presented, a presenting view
controller is required. That's the purpose of BasicAuthentication's property
<code>presentingViewController</code>. The problem is that if the presenting view
controller isn't visible, or if there is a modal controller already
presented, the UIAlertController won't be displayed. It might be necessary
to switch back to UIViewAlert, but "showing" a UIAlertView keeps crashing
the app at the time the code was written.</li>
</ol><h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>Cycles is released under the MIT license. See <a href="https://github.com/weipin/Cycles/blob/master/LICENSE">LICENSE.md</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Cycles maintained by <a href="https://github.com/weipin">weipin</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-379019-12");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
